(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"18k5":function(t,e,s){"use strict";function r(t,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.originalData=JSON.parse(JSON.stringify(e)),Object.assign(this,e),this.errors={},this.submitted=!1}var e,s,n;return e=t,(s=[{key:"data",value:function(){var t=this;return Object.keys(this.originalData).reduce(function(e,s){return e[s]=t[s],e},{})}},{key:"get",value:function(t){return axios.get(t).catch(this.onFail.bind(this)).then(this.onSuccess.bind(this))}},{key:"delete",value:function(t){this.submit(t,"delete")}},{key:"patch",value:function(t){this.submit(t,"patch")}},{key:"post",value:function(t){this.submit(t)}},{key:"submit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post";return axios[e](t,this.data()).catch(this.onFail.bind(this)).then(this.onSuccess.bind(this))}},{key:"onSuccess",value:function(t){return this.submitted=!0,this.errors={},t}},{key:"onFail",value:function(t){throw console.log(t),this.errors=t.response.data.errors,this.submitted=!1,t}},{key:"reset",value:function(){Object.assign(this,this.originalData)}}])&&r(e.prototype,s),n&&r(e,n),t}();e.a=n},"KHd+":function(t,e,s){"use strict";function r(t,e,s,r,n,i,a,o){var c,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=s,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=c):n&&(c=o?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:u}}s.d(e,"a",function(){return r})},d1rg:function(t,e,s){"use strict";s.r(e);var r=s("18k5"),n={props:{headers:Array,allUsers:Object,csrf:String},data:function(){return{users:this.allUsers,form:new r.a({search:""})}},filters:{capitalize:function(t){return t?(t=t.toString()).charAt(0).toUpperCase()+t.slice(1):""}},methods:{filterUsers:function(t){var e=this;t?this.form.get("/api/findUser?search="+t).then(function(t){e.users=t.data}).catch(function(t){}):this.users=this.allUsers},getUsersPerPage:function(){var t=this;this.form.get("/admin/users/?page="+this.users.current_page).then(function(e){t.users=e.data}).catch(function(t){})}}},i=s("KHd+"),a=Object(i.a)(n,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"mt-4 flex items-center justify-between flex-wrap"},[s("search-dashboard",{staticClass:"mt-2",on:{searching:t.filterUsers}}),t._v(" "),s("a",{staticClass:"mt-2 bg-green-500 rounded py-2 px-4 text-white leading-tight hover:bg-green-400",attrs:{href:"/admin/users/create"}},[t._v("Ajouter un utilisateur")])],1),t._v(" "),s("div",{staticClass:"mt-4 table-container"},[s("table",{staticClass:"table"},[s("thead",[s("tr",t._l(t.headers,function(e,r){return s("th",{key:"title-"+r,staticClass:"py-3 px-6 bg-gray-800 font-bold uppercase text-sm text-gray-100 border-r border-white"},[t._v(t._s(e))])}),0)]),t._v(" "),s("tbody",t._l(t.users.data,function(e,r){return s("tr",{key:"user-"+r},[s("td",{staticClass:"py-3 px-6 border-b border-gray-200"},[t._v(t._s(e.first_name)+" "+t._s(e.last_name))]),t._v(" "),s("td",{staticClass:"py-3 px-6 border-b border-gray-200"},[t._v(t._s(t._f("capitalize")(e.role.name)))]),t._v(" "),s("td",{staticClass:"py-3 px-6 border-b border-gray-200"},[s("div",{staticClass:"flex"},[s("a",{staticClass:"inline-block btn-primary btn-sm",attrs:{href:"/admin/users/"+e.id+"/edit"}},[t._v("Modifier")]),t._v(" "),s("form",{staticClass:"inline-block",attrs:{method:"POST",action:"/admin/users/"+e.id}},[s("input",{attrs:{type:"hidden",name:"_token"},domProps:{value:t.csrf}}),t._v(" "),s("input",{attrs:{type:"hidden",name:"_method",value:"DELETE"}}),t._v(" "),s("button",{staticClass:"ml-3 btn-danger btn-sm",attrs:{type:"submit"}},[t._v("Supprimer")])])])])])}),0)])]),t._v(" "),s("pagination",{attrs:{pagination:t.users,offset:5},on:{paginate:t.getUsersPerPage}})],1)},[],!1,null,null,null);e.default=a.exports}}]);